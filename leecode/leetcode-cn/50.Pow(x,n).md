# 迭代写法

因为性质
$$
(x^n)^2=x^{2n}
$$
也就是说，$n$ 不断乘以 $2$ ，对应于 $x$ 不断平方。

如果 $n$ 用二进制表示，那么 $n$ 乘以 $2$ 就是左移一位。



假设 $n=77$，有
$$
\begin{flalign*}
n=77 &= 1001101_b\\
&= 1*2^6+0*2^5+0*2^4+1*2^3+1*2^2+0*2^1+1*2^0
\end{flalign*}
$$
于是
$$
\begin{align}
x^{77} &=x^{1001101_b}\\
&=x^{1*2^6+0*2^5+0*2^4+1*2^3+1*2^2+0*2^1+1*2^0}\\
&=x^{1*2^6}x^{0*2^5}x^{0*2^4}x^{1*2^3}x^{1*2^2}x^{0*2^1}x^{1*2^0}\\
&=(x^{2^6})^1(x^{2^5})^0(x^{2^4})^0(x^{2^3})^1(x^{2^2})^1(x^{2^1})^0(x^{2^0})^1 \tag{1}
\end{align}
$$
从右往左看（也就是 $n$ 二进制从低位到高位）：
$$
x^{2^6}←x^{2^5}←x^{2^4}←x^{2^3}←x^{2^2}←x^{2^1}←x^{2^0}
$$
这是 $x$ 在不断平方，即
$$
(x^{2^k})^2=x^{2^{k+1}}
$$

## 扩展：

现在回过头来分析，其实这里与二进制没有关系，我们仅仅用到了一个性质：
$$
x^{n_1+n_2+...+n_k}=x^{n_1}x^{n_2}...x^{n_k}
$$
我们可以把 $n$ 拆成任意 $k$ 进制，最终也能写成公式 $(1)$ 的形式，也就是用各个进制位上的数表示。

然后，我们不是对 $x$ 不断平方，而是不断 $k$ 次方。
